{% extends '_base.html' %}

{% load i18n allauth account %}
{% load crispy_forms_tags %}

{% block head_title %}
  {% trans "Password Reset" %}
{% endblock head_title %}

{% block content %}
  <header class="mb-4">
    <h1 class="h4 mb-2">{% trans "Password Reset" %}</h1>
  </header>

  {% if user.is_authenticated %}
    {% include "account/snippets/already_logged_in.html" %}
  {% endif %}

  <p class="mb-3">
    {% trans "If you forgot your password, enter your email address. Instructions to reset your password will be sent to you via email." %}
  </p>

  {% url 'account_reset_password' as reset_url %}

  <form method="post" action="{{ reset_url }}" class="needs-validation" novalidate>
    {% csrf_token %}

    {# If you use crispy forms, you can replace the line below with: #}
       {{ form|crispy }}
    {% comment %} <div>
      {{ form.as_p }}
    </div> {% endcomment %}

    <div class="mt-3 d-flex justify-content-between align-items-center">
      <a href="{% url 'account_login' %}" class="btn btn-link">{% trans "Back to Login" %}</a>
      <button type="submit" class="btn btn-primary">
        {% trans "Send Reset Email" %}
      </button>
    </div>
  </form>

  <p class="text-muted mt-4 small">
    {% trans "If you encounter any issues resetting your password, please contact support." %}
  </p>
{% endblock content %}